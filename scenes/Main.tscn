[gd_scene load_steps=17 format=3 uid="uid://b2uep2fut66xq"]

[ext_resource type="Resource" uid="uid://dm5qclv2iishs" path="res://scripts/combat/resources/player_stats.tres" id="2_0bbpv"]
[ext_resource type="Resource" uid="uid://ba38gurt6y8xr" path="res://scripts/combat/resources/mob_melee.tres" id="2_3p2gp"]
[ext_resource type="Script" uid="uid://dfqhpmsb7w6vv" path="res://scripts/arena.gd" id="2_jlsqs"]
[ext_resource type="Script" uid="uid://btd7lj8rvl3mn" path="res://scripts/combat/combat_resolver.gd" id="2_resolver"]
[ext_resource type="Script" uid="uid://bm56h5i4v5qd3" path="res://scripts/world/mob_spawner.gd" id="4_3p2gp"]
[ext_resource type="Resource" uid="uid://coo1wg2kept84" path="res://scripts/combat/resources/Iron_Helmet.tres" id="4_bjd11"]
[ext_resource type="Script" uid="uid://crfdob3i0hkqq" path="res://scripts/combat/attack_profile.gd" id="4_q8u5g"]
[ext_resource type="Resource" uid="uid://bwqe4s5hnmkjt" path="res://scripts/combat/resources/melee.tres" id="5_lhr70"]
[ext_resource type="Resource" uid="uid://5pfql8eug7c4" path="res://scripts/combat/resources/Ring_of_Godot.tres" id="5_qmy6f"]
[ext_resource type="Resource" uid="uid://b3w1pwcodj8cd" path="res://scripts/combat/resources/Short_Sword.tres" id="6_mwfav"]
[ext_resource type="Script" uid="uid://bkdi235mlli68" path="res://scripts/player_controller.gd" id="6_nxtc6"]
[ext_resource type="Resource" uid="uid://dwe2va38w17rc" path="res://scripts/combat/resources/ranged.tres" id="6_wp0k4"]
[ext_resource type="PackedScene" uid="uid://brqbx1aol2srb" path="res://scenes/HUD.tscn" id="8_hud"]
[ext_resource type="Script" uid="uid://dycc2yschclmw" path="res://scripts/targeting.gd" id="11_mwfav"]
[ext_resource type="PackedScene" uid="uid://cb5wu0lwd4cm" path="res://scenes/Wolf.tscn" id="13_mwfav"]

[sub_resource type="CircleShape2D" id="CircleShape2D_vcsgt"]
radius = 29.0

[node name="Main" type="Node2D"]

[node name="CombatWorld" type="Node2D" parent="." groups=["targetable"]]
position = Vector2(817, 235)
script = ExtResource("2_jlsqs")
player_path = NodePath("../Entities/PlayerBody")
resolver_path = NodePath("CombatResolver")
vfx_parent_path = NodePath("../Entities")
mob_attack_profile = ExtResource("2_3p2gp")

[node name="CombatResolver" type="Node" parent="CombatWorld"]
script = ExtResource("2_resolver")

[node name="MobSpawner" type="Node2D" parent="CombatWorld"]
position = Vector2(14, -51)
script = ExtResource("4_3p2gp")
mob_scene = ExtResource("13_mwfav")
mob_count = 2
spawn_center = Vector2(700, 350)

[node name="Entities" type="Node2D" parent="."]
position = Vector2(819, 235)

[node name="PlayerBody" type="CharacterBody2D" parent="Entities"]
position = Vector2(-334, -31)
script = ExtResource("6_nxtc6")
debug_iron_helmet = ExtResource("4_bjd11")
debug_ring = ExtResource("5_qmy6f")
debug_sword = ExtResource("6_mwfav")
attacks = Array[ExtResource("4_q8u5g")]([ExtResource("5_lhr70"), ExtResource("6_wp0k4")])
stats = ExtResource("2_0bbpv")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Entities/PlayerBody"]
position = Vector2(-1, 0)
shape = SubResource("CircleShape2D_vcsgt")

[node name="ColorRect" type="ColorRect" parent="Entities/PlayerBody"]
offset_left = -21.0
offset_top = -19.0
offset_right = 19.0
offset_bottom = 21.0

[node name="Camera2D" type="Camera2D" parent="Entities/PlayerBody"]
position = Vector2(-2, -1)
position_smoothing_enabled = true

[node name="Targeting" type="Node" parent="Entities/PlayerBody"]
script = ExtResource("11_mwfav")

[node name="HUD" parent="." instance=ExtResource("8_hud")]
player_path = NodePath("../Entities/PlayerBody")
arena_path = NodePath("../CombatWorld")
